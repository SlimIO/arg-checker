# arg-checker
![version](https://img.shields.io/badge/dynamic/json.svg?url=https://raw.githubusercontent.com/SlimIO/arg-checker/master/package.json?token=AOgWw3vrgQuu-U4fz1c7yYZyc7XJPNtrks5catjdwA%3D%3D&query=$.version&label=Version)
[![Maintenance](https://img.shields.io/badge/Maintained%3F-yes-green.svg)](https://github.com/SlimIO/arg-checker/commit-activity)
![MIT](https://img.shields.io/github/license/mashape/apistatus.svg)
![dep](https://img.shields.io/david/SlimIO/arg-checker)
![size](https://img.shields.io/github/languages/code-size/SlimIO/arg-checker)
[![Known Vulnerabilities](https://snyk.io//test/github/SlimIO/arg-checker/badge.svg?targetFile=package.json)](https://snyk.io//test/github/SlimIO/arg-checker?targetFile=package.json)
[![Build Status](https://travis-ci.com/SlimIO/arg-checker.svg?branch=master)](https://travis-ci.com/SlimIO/arg-checker)
[![Greenkeeper badge](https://badges.greenkeeper.io/SlimIO/arg-checker.svg)](https://greenkeeper.io/)

SlimIO Argument Checker. This package is inspired by [ow](https://github.com/sindresorhus/ow#readme) to retrieve the callsites but doesn't include any built-in predicates.

## Requirements
- [Node.js](https://nodejs.org/en/) v12 or higher

## Why ?
- No built-in predicates/validation
- No browser support (only Node.js).

## Getting Started

This package is available in the Node Package Repository and can be easily installed with [npm](https://docs.npmjs.com/getting-started/what-is-npm) or [yarn](https://yarnpkg.com).

```bash
$ npm i @slimio/arg-checker
# or
$ yarn add @slimio/arg-checker
```

## Usage example
```js
const argc = require("@slimio/arg-checker");
const is = require("@slimio/is");

function sayHello(name, age) {
    argc(name, [is.string, is.symbol]); // <-- Array stand for "OR" condition
    argc(age, is.number);
}

sayHello("fraxken", 24);
// => No error
sayHello(true);
// => ArgumentError: 'name' doesn't match his predicate(s)
```

## API

<details><summary>argc(arg: any, ...predicates: (argc.predicate | argc.predicate[])[]): void</summary>
<br />

Check if **arg** match his predicates.

```js
const logValidInput = (input) => {
    argc(input, is.number, (num) => num > 10 && num < 20);
    // ...predicates are executing as && condition.
    console.log(input);
}

logValidInput(15);
// => No Error

logValidInput(50);
// => ArgumentError: 'input' doesn't match his predicate(s)
```
</details>

## Roadmap
- Custom Error message ?
- Improve predicates detection ?

## Dependencies

|Name|Refactoring|Security Risk|Usage|
|---|---|---|---|
|[callsites](https://github.com/sindresorhus/callsites#readme)|⚠️Major|Low|Get V8 call stack traces|
|[clean-stack](https://github.com/sindresorhus/clean-stack#readme)|Minor|Low|Clean the stack trace generated by Errors|

## License
MIT
